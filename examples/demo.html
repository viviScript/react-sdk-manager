<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React SDK Manager - Live Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .plugin-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        .plugin-section h3 {
            margin-top: 0;
            color: #333;
            font-size: 1.3rem;
        }
        .plugin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .plugin-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .plugin-card h4 {
            margin-top: 0;
            color: #444;
            font-size: 1.1rem;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 4px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .btn-success { background: #28a745; }
        .btn-success:hover { background: #1e7e34; }
        .btn-danger { background: #dc3545; }
        .btn-danger:hover { background: #c82333; }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-warning:hover { background: #e0a800; }
        .counter-display {
            font-size: 2rem;
            text-align: center;
            margin: 15px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 2px solid #dee2e6;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
        }
        .status-enabled {
            background: #d4edda;
            color: #155724;
        }
        .status-disabled {
            background: #f8d7da;
            color: #721c24;
        }
        .theme-light { background: #ffffff; color: #333333; }
        .theme-dark { background: #1a1a1a; color: #ffffff; }
        .theme-blue { background: #e3f2fd; color: #0d47a1; }
        .footer {
            text-align: center;
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            background: #f8f9fa;
            color: #666;
        }
        .loading {
            text-align: center;
            padding: 40px;
        }
        .loading::after {
            content: "";
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useContext, createContext } = React;

        // Mock SDK Implementation for Demo
        const SDKContext = createContext(null);

        // Mock plugin creation
        const createPlugin = (config) => ({
            ...config,
            enabled: config.enabled !== false,
            id: Math.random().toString(36).substr(2, 9)
        });

        // Mock SDK Provider
        const SDKProvider = ({ children, config }) => {
            const [state, setState] = useState(config.initialState || {});
            const [plugins, setPlugins] = useState(new Map());
            const [initialized, setInitialized] = useState(false);

            useEffect(() => {
                setTimeout(() => setInitialized(true), 1000);
            }, []);

            const sdk = {
                state: {
                    getState: () => state,
                    setState: (updater) => {
                        setState(prev => typeof updater === 'function' ? updater(prev) : { ...prev, ...updater });
                    }
                },
                plugins: {
                    register: (plugin) => {
                        setPlugins(prev => new Map(prev).set(plugin.name, plugin));
                        return Promise.resolve();
                    },
                    get: (name) => plugins.get(name),
                    getAll: () => Array.from(plugins.values()),
                    enable: (name) => {
                        setPlugins(prev => {
                            const newMap = new Map(prev);
                            const plugin = newMap.get(name);
                            if (plugin) {
                                newMap.set(name, { ...plugin, enabled: true });
                            }
                            return newMap;
                        });
                        return Promise.resolve();
                    },
                    disable: (name) => {
                        setPlugins(prev => {
                            const newMap = new Map(prev);
                            const plugin = newMap.get(name);
                            if (plugin) {
                                newMap.set(name, { ...plugin, enabled: false });
                            }
                            return newMap;
                        });
                        return Promise.resolve();
                    }
                },
                getConfig: () => config,
                initialized
            };

            return React.createElement(SDKContext.Provider, { value: sdk }, children);
        };

        // Mock hooks
        const useSDK = () => {
            const sdk = useContext(SDKContext);
            if (!sdk) throw new Error('useSDK must be used within SDKProvider');
            return sdk;
        };

        const useSDKState = () => {
            const sdk = useSDK();
            return [sdk.state.getState(), sdk.state.setState];
        };

        // Plugin Components
        const ThemePlugin = createPlugin({
            name: 'theme-plugin',
            version: '1.0.0',
            component: () => {
                const [state, setState] = useSDKState();
                
                const themes = ['light', 'dark', 'blue'];
                const currentTheme = state.theme || 'light';

                return React.createElement('div', { className: 'plugin-card' },
                    React.createElement('h4', null, '🎨 Theme Controller'),
                    React.createElement('p', null, `Current theme: ${currentTheme}`),
                    React.createElement('div', null,
                        themes.map(theme => 
                            React.createElement('button', {
                                key: theme,
                                className: `btn ${currentTheme === theme ? 'btn-success' : ''}`,
                                onClick: () => setState(prev => ({ ...prev, theme })),
                                style: { margin: '2px' }
                            }, theme.charAt(0).toUpperCase() + theme.slice(1))
                        )
                    )
                );
            }
        });

        const CounterPlugin = createPlugin({
            name: 'counter-plugin',
            version: '1.0.0',
            component: () => {
                const [state, setState] = useSDKState();
                const count = state.count || 0;

                const increment = () => setState(prev => ({ ...prev, count: (prev.count || 0) + 1 }));
                const decrement = () => setState(prev => ({ ...prev, count: Math.max(0, (prev.count || 0) - 1) }));
                const reset = () => setState(prev => ({ ...prev, count: 0 }));

                return React.createElement('div', { className: 'plugin-card' },
                    React.createElement('h4', null, '🔢 Counter Demo'),
                    React.createElement('div', { className: 'counter-display' }, `Count: ${count}`),
                    React.createElement('div', null,
                        React.createElement('button', { className: 'btn', onClick: decrement }, '➖ Decrease'),
                        React.createElement('button', { className: 'btn btn-warning', onClick: reset }, '🔄 Reset'),
                        React.createElement('button', { className: 'btn', onClick: increment }, '➕ Increase')
                    )
                );
            }
        });

        const UserPlugin = createPlugin({
            name: 'user-plugin',
            version: '1.0.0',
            component: () => {
                const [state, setState] = useSDKState();
                const [loading, setLoading] = useState(false);
                
                const users = [
                    { id: 1, name: 'Alice Johnson', role: 'Admin' },
                    { id: 2, name: 'Bob Smith', role: 'User' },
                    { id: 3, name: 'Charlie Brown', role: 'User' }
                ];

                const login = async (user) => {
                    setLoading(true);
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    setState(prev => ({ ...prev, user }));
                    setLoading(false);
                };

                const logout = () => {
                    setState(prev => ({ ...prev, user: null }));
                };

                return React.createElement('div', { className: 'plugin-card' },
                    React.createElement('h4', null, '👤 User Management'),
                    state.user ? 
                        React.createElement('div', null,
                            React.createElement('p', null, `Welcome, ${state.user.name}!`),
                            React.createElement('p', null, `Role: ${state.user.role}`),
                            React.createElement('button', { className: 'btn btn-danger', onClick: logout }, 'Logout')
                        ) :
                        React.createElement('div', null,
                            React.createElement('p', null, 'Choose a user to login:'),
                            users.map(user =>
                                React.createElement('button', {
                                    key: user.id,
                                    className: 'btn btn-success',
                                    onClick: () => login(user),
                                    disabled: loading,
                                    style: { display: 'block', margin: '5px 0', width: '100%' }
                                }, loading ? 'Logging in...' : `${user.name} (${user.role})`)
                            )
                        )
                );
            }
        });

        const PluginManagerComponent = () => {
            const sdk = useSDK();
            const [plugins, setPlugins] = useState([]);

            useEffect(() => {
                setPlugins(sdk.plugins.getAll());
            }, [sdk]);

            const togglePlugin = async (pluginName) => {
                const plugin = sdk.plugins.get(pluginName);
                if (plugin.enabled) {
                    await sdk.plugins.disable(pluginName);
                } else {
                    await sdk.plugins.enable(pluginName);
                }
                setPlugins(sdk.plugins.getAll());
            };

            return React.createElement('div', { className: 'plugin-card' },
                React.createElement('h4', null, '⚙️ Plugin Manager'),
                plugins.map(plugin =>
                    React.createElement('div', { 
                        key: plugin.name,
                        style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', margin: '8px 0' }
                    },
                        React.createElement('span', null, 
                            plugin.name,
                            React.createElement('span', { 
                                className: plugin.enabled ? 'status-badge status-enabled' : 'status-badge status-disabled' 
                            }, plugin.enabled ? 'Enabled' : 'Disabled')
                        ),
                        React.createElement('button', {
                            className: plugin.enabled ? 'btn btn-danger' : 'btn btn-success',
                            onClick: () => togglePlugin(plugin.name)
                        }, plugin.enabled ? 'Disable' : 'Enable')
                    )
                )
            );
        };

        const PluginRenderer = ({ pluginName }) => {
            const sdk = useSDK();
            const plugin = sdk.plugins.get(pluginName);

            if (!plugin || !plugin.enabled) {
                return React.createElement('div', { 
                    className: 'plugin-card',
                    style: { opacity: 0.5, border: '1px dashed #ccc' }
                },
                    React.createElement('h4', null, pluginName),
                    React.createElement('p', null, 'Plugin disabled or not found')
                );
            }

            return React.createElement(plugin.component);
        };

        const SDKInfo = () => {
            const sdk = useSDK();
            const [state] = useSDKState();
            const [showDetails, setShowDetails] = useState(false);

            return React.createElement('div', { className: 'plugin-card' },
                React.createElement('h4', null, 'ℹ️ SDK Information'),
                React.createElement('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '10px' } },
                    React.createElement('div', null, React.createElement('strong', null, 'Status: '), sdk.initialized ? '✅ Ready' : '⏳ Loading'),
                    React.createElement('div', null, React.createElement('strong', null, 'Plugins: '), sdk.plugins.getAll().length),
                    React.createElement('div', null, React.createElement('strong', null, 'Theme: '), state.theme || 'light'),
                    React.createElement('div', null, React.createElement('strong', null, 'User: '), state.user?.name || 'None')
                ),
                React.createElement('button', {
                    className: 'btn',
                    onClick: () => setShowDetails(!showDetails),
                    style: { marginTop: '10px' }
                }, showDetails ? 'Hide Details' : 'Show Details'),
                showDetails && React.createElement('pre', {
                    style: { 
                        background: '#f8f9fa', 
                        padding: '10px', 
                        borderRadius: '4px', 
                        fontSize: '12px',
                        overflow: 'auto',
                        marginTop: '10px'
                    }
                }, JSON.stringify(state, null, 2))
            );
        };

        // Main App Component
        const App = () => {
            const sdk = useSDK();
            const [state] = useSDKState();
            const [pluginsLoaded, setPluginsLoaded] = useState(false);

            useEffect(() => {
                if (sdk.initialized) {
                    // Register plugins
                    Promise.all([
                        sdk.plugins.register(ThemePlugin),
                        sdk.plugins.register(CounterPlugin),
                        sdk.plugins.register(UserPlugin)
                    ]).then(() => {
                        setPluginsLoaded(true);
                    });
                }
            }, [sdk.initialized]);

            if (!sdk.initialized || !pluginsLoaded) {
                return React.createElement('div', { className: 'loading' },
                    React.createElement('h2', null, '🚀 Initializing React SDK Manager Demo'),
                    React.createElement('p', null, 'Loading plugins and setting up the application...')
                );
            }

            const themeClass = `theme-${state.theme || 'light'}`;

            return React.createElement('div', { className: `container ${themeClass}` },
                React.createElement('div', { className: 'header' },
                    React.createElement('h1', null, '🚀 React SDK Manager'),
                    React.createElement('p', null, 'Live Interactive Demo')
                ),
                React.createElement('div', { className: 'content' },
                    React.createElement('div', { className: 'plugin-section' },
                        React.createElement('h3', null, '🔌 Interactive Plugins'),
                        React.createElement('div', { className: 'plugin-grid' },
                            React.createElement(PluginRenderer, { pluginName: 'theme-plugin' }),
                            React.createElement(PluginRenderer, { pluginName: 'counter-plugin' }),
                            React.createElement(PluginRenderer, { pluginName: 'user-plugin' })
                        )
                    ),
                    React.createElement('div', { className: 'plugin-section' },
                        React.createElement('h3', null, '⚙️ System Management'),
                        React.createElement('div', { className: 'plugin-grid' },
                            React.createElement(PluginManagerComponent),
                            React.createElement(SDKInfo)
                        )
                    )
                ),
                React.createElement('div', { className: 'footer' },
                    React.createElement('p', null,
                        React.createElement('strong', null, 'React SDK Manager Demo'),
                        ' | Built with ❤️ using React & JavaScript | Open browser console for logs'
                    )
                )
            );
        };

        // Initialize the app
        const config = {
            name: 'React SDK Manager Demo',
            version: '1.0.0',
            debug: true,
            initialState: {
                theme: 'light',
                count: 0,
                user: null
            }
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            React.createElement(SDKProvider, { config },
                React.createElement(App)
            )
        );

        // Add some demo interactions
        console.log('🎉 React SDK Manager Demo Loaded!');
        console.log('Try these features:');
        console.log('1. Switch themes using the Theme Controller');
        console.log('2. Increment/decrement the counter');
        console.log('3. Login with different users');
        console.log('4. Enable/disable plugins in the Plugin Manager');
        console.log('5. View detailed SDK information');
    </script>
</body>
</html> 